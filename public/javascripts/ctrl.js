// Generated by CoffeeScript 1.11.1
(function() {
  angular.module('pupilApp').controller('userCtrl', [
    '$scope', 'Model', function($scope, Model) {
      var refreshUsers;
      console.log('userCtrl');
      refreshUsers = function() {
        return Model.get_user_list().then(function(d) {
          return $scope.users = d.data;
        });
      };
      $scope.remove = function(id) {
        console.log(id);
        return Model.remove(id, function() {
          return refreshUsers();
        });
      };
      $scope.edit = function(id) {
        $scope.user = $scope.users[id];
        return $scope.user.is_edit = true;
      };
      $scope.save = function() {
        console.log('saving');
        Model.save($scope.user, function() {
          return refreshUsers();
        });
        return $scope.user = {};
      };
      return refreshUsers();
    }
  ]).controller('pageCtrl', [
    '$scope', 'Page', function($scope, Page) {
      var update_list;
      update_list = function() {
        return Page.list(function(r) {
          return $scope.pages = r.data;
        });
      };
      return update_list();
    }
  ]);

}).call(this);
